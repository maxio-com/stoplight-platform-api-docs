---
"/bank_accounts/{bank_account_id}/verification.json":
  parameters:
  - schema:
      type: integer
    name: bank_account_id
    in: path
    required: true
  put:
    summary: Verify Bank Account
    tags:
    - Payment Profiles
    responses:
      '200':
        description: OK
        content:
          application/json:
            schema:
              type: object
              properties:
                payment_profile:
                  type: object
                  properties:
                    id:
                      type: integer
                    first_name:
                      type: string
                    last_name:
                      type: string
                    customer_id:
                      type: integer
                    current_vault:
                      type: string
                    vault_token:
                      type: string
                    billing_address:
                      type: string
                    billing_city:
                      type: string
                    billing_state:
                      type: string
                    billing_zip:
                      type: string
                    billing_country:
                      type: string
                    customer_vault_token:
                      type: 'null'
                    billing_address_2:
                      type: string
                    bank_name:
                      type: string
                    masked_bank_routing_number:
                      type: string
                    masked_bank_account_number:
                      type: string
                    bank_account_type:
                      type: string
                    bank_account_holder_type:
                      type: string
                    payment_type:
                      type: string
                    verified:
                      type: boolean
                      default: false
                      description: denotes whether a bank account has been verified
                        by providing the amounts of two small deposits made into the
                        account
                    site_gateway_setting_id:
                      type: integer
                    gateway_handle:
                      type: string
            examples:
              Example:
                value:
                  payment_profile:
                    id: 10089892
                    first_name: Chester
                    last_name: Tester
                    customer_id: 14543792
                    current_vault: stripe_connect
                    vault_token: cus_0123abc456def
                    billing_address: 456 Juniper Court
                    billing_city: Boulder
                    billing_state: CO
                    billing_zip: '80302'
                    billing_country: US
                    customer_vault_token:
                    billing_address_2: ''
                    bank_name: Bank of Kansas City
                    masked_bank_routing_number: XXXX6789
                    masked_bank_account_number: XXXX3344
                    bank_account_type: checking
                    bank_account_holder_type: personal
                    payment_type: bank_account
      '404':
        description: Not Found
      '422':
        description: Unprocessable Entity (WebDAV)
        content:
          application/json:
            schema:
              type: object
              properties:
                errors:
                  type: array
                  items:
                    type: string
            examples:
              Example:
                value:
                  errors:
                  - You have tried to verify this bank account 10 times. To continue
                    trying to verify the account, please reach out to us directly.
    operationId: verifyBankAccount
    description: Submit the two small deposit amounts the customer received in their
      bank account in order to verify the bank account. (Stripe only)
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              bank_account_verification:
                type: object
                properties:
                  deposit_1_in_cents:
                    type: integer
                  deposit_2_in_cents:
                    type: integer
          examples:
            Example:
              value:
                bank_account_verification:
                  deposit_1_in_cents: 32
                  deposit_2_in_cents: 45
