---
"/offers.json":
  post:
    summary: Create Offer
    tags:
    - Offers
    responses:
      '200':
        description: OK
        content:
          application/json:
            schema:
              type: object
              properties:
                offer:
                  "$ref": "#/components/schemas/Offer"
            examples:
              Example:
                value:
                  offer:
                    id: 3
                    site_id: 2
                    product_family_id: 4
                    product_family_name: Chargify
                    product_id: 31
                    product_name: 30-Day Square Trial
                    product_price_in_cents: 2000
                    product_revisable_number: 0
                    name: Solo
                    handle: han_shot_first
                    description: A Star Wars Story
                    created_at: '2018-06-08T14:51:52-04:00'
                    updated_at: '2018-06-08T14:51:52-04:00'
                    archived_at:
                    product_price_point_name: Default
                    offer_items:
                    - component_id: 24
                      component_name: Invoices
                      component_unit_price: '3.0'
                      price_point_id: 104
                      price_point_name: Original
                      starting_quantity: '1.0'
                      editable: false
                    offer_discounts:
                    - coupon_id: 3
                      coupon_code: DEF456
                      coupon_name: IB Loyalty
      '422':
        description: Unprocessable Entity (WebDAV)
        content:
          application/json:
            schema:
              type: object
              properties:
                errors:
                  type: object
                  properties:
                    components:
                      type: array
                      items:
                        type: string
            examples:
              Example:
                value:
                  errors:
                    components:
                    - 'starting_quantity for an On/Off component can only be ''1''
                      or ''0'': 24'
    operationId: createOffer
    description: |-
      Create an offer within your Chargify site by sending a POST request.

      ## Documentation

      Offers allow you to package complicated combinations of products, components and coupons into a convenient package which can then be subscribed to just like products.

      Once an offer is defined it can be used as an alternative to the product when creating subscriptions.

      Full documentation on how to use offers in the Chargify UI can be located [here](https://chargify.zendesk.com/hc/en-us/articles/4407753852059).

      ## Using a Product Price Point

      You can optionally pass in a `product_price_point_id` that corresponds with the `product_id` and the offer will use that price point. If a `product_price_point_id` is not passed in, the product's default price point will be used.
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              offer:
                type: object
                properties:
                  name:
                    type: string
                  handle:
                    type: string
                  description:
                    type: string
                  product_id:
                    type: integer
                  product_price_point_id:
                    type: integer
                  components:
                    type: array
                    items:
                      type: object
                      properties:
                        component_id:
                          type: integer
                        starting_quantity:
                          type: integer
                  coupons:
                    type: array
                    items:
                      type: string
          examples:
            Example:
              value:
                offer:
                  name: Solo
                  handle: han_shot_first
                  description: A Star Wars Story
                  product_id: 31
                  product_price_point_id: 102
                  components:
                  - component_id: 24
                    starting_quantity: 1
                  coupons:
                  - DEF456
  get:
    summary: List Offers
    tags:
    - Offers
    responses:
      '200':
        description: OK
        content:
          application/json:
            schema:
              type: object
              properties:
                offers:
                  type: array
                  items:
                    "$ref": "#/components/schemas/Offer"
            examples:
              Example:
                value:
                  offers:
                  - id: 239
                    site_id: 48110
                    product_family_id: 1025627
                    product_family_name: Gold
                    product_id: 110
                    product_name: Pro
                    product_price_in_cents: 1000
                    product_revisable_number: 0
                    product_price_point_id: 138
                    product_price_point_name: Default
                    name: Third Offer
                    handle: third
                    description: ''
                    created_at: '2018-08-03T09:56:11-05:00'
                    updated_at: '2018-08-03T09:56:11-05:00'
                    archived_at:
                    offer_items:
                    - component_id: 426665
                      component_name: Database Size (GB)
                      component_unit_price: '1.0'
                      price_point_id: 149438
                      price_point_name: Auto-created
                      starting_quantity: '0.0'
                      editable: false
                      currency_prices: []
                    offer_discounts:
                    - coupon_id: 234
                      coupon_code: GR8_CUSTOMER
                      coupon_name: Multi-service Discount
                    offer_signup_pages:
                    - id: 356482
                      nickname: ggoods
                      enabled: true
                      return_url: ''
                      return_params: ''
                      url: https://general-goods.chargifypay.com/subscribe/hjpvhnw63tzy
    operationId: listOffers
    description: This endpoint will list offers for a site.
